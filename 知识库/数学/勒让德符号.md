## 1. 定义
设 $p$ 是**奇素数**，$a$ 是任意整数。勒让德符号 $\left(\frac{a}{p}\right)$ 定义如下：
$$
\left(\frac{a}{p}\right) = 
\begin{cases} 
1, & \text{若 } a \text{ 是模 } p \text{ 的平方剩余 (QR)} \\
-1, & \text{若 } a \text{ 是模 } p \text{ 的平方非剩余 (QNR)} \\
0, & \text{若 } p \mid a
\end{cases}
$$

## 2. 计算公式 (欧拉判别法)
该符号的值与欧拉判别法的结果在模 $p$ 下同余：
$$\left(\frac{a}{p}\right) \equiv a^{\frac{p-1}{2}} \pmod p$$

## 3. 核心性质
为了快速计算 $\left(\frac{a}{p}\right)$ 的值，通常利用以下性质而不是直接定义：

1.  **同余性 (Periodicity)**：
    若 $a \equiv b \pmod p$，则 $\left(\frac{a}{p}\right) = \left(\frac{b}{p}\right)$。
    *用途：将大整数 $a$ 转化为小于 $p$ 的整数。*
2.  **完全积性 (Multiplicativity)**：
    $$\left(\frac{ab}{p}\right) = \left(\frac{a}{p}\right)\left(\frac{b}{p}\right)$$
    *用途：将合数分解为素因子乘积，分别计算。*
3.  **平方数**：
    若 $(k, p)=1$，则 $\left(\frac{k^2}{p}\right) = 1$。

## 4. 特殊值的计算公式
记忆以下两个关键公式，用于处理分解后的因子 $-1$ 和 $2$：

* **对 $-1$ 的判定**：
    $$\left(\frac{-1}{p}\right) = (-1)^{\frac{p-1}{2}} = \begin{cases} 1, & p \equiv 1 \pmod 4 \\ -1, & p \equiv 3 \pmod 4 \end{cases}$$
* **对 $2$ 的判定**：
    $$\left(\frac{2}{p}\right) = (-1)^{\frac{p^2-1}{8}} = \begin{cases} 1, & p \equiv \pm 1 \pmod 8 \\ -1, & p \equiv \pm 3 \pmod 8 \end{cases}$$

## 5. ⭐ 二次互反律 (Quadratic Reciprocity Law)
这是计算的核心加速器。设 $p, q$ 是不同的**奇素数**：
$$\left(\frac{q}{p}\right) = (-1)^{\frac{p-1}{2} \cdot \frac{q-1}{2}} \left(\frac{p}{q}\right)$$

> [!tip] 计算口诀
> * **“两奇同余三，互换变负号”**：只有当 $p$ 和 $q$ 模 $4$ 都余 $3$ 时，互换位置后符号改变（乘以 $-1$）。
> * **“否则符号不变”**：其他情况（至少有一个模 $4$ 余 $1$），直接互换位置，符号不变。

---

## 6. 计算示例
**题目**：判断 $286$ 是否为模 $563$ 的平方剩余（已知 $563$ 是素数）。

**解**：
1.  **分解分子**：$286 = 2 \times 11 \times 13$。
    $\left(\frac{286}{563}\right) = \left(\frac{2}{563}\right) \left(\frac{11}{563}\right) \left(\frac{13}{563}\right)$。
2.  **计算 $\left(\frac{2}{563}\right)$**：
    $563 \equiv 3 \pmod 8$（因为 $560$ 是 $8$ 的倍数），根据性质 $\left(\frac{2}{p}\right)$，结果为 $-1$。
3.  **计算 $\left(\frac{13}{563}\right)$**：
    $13 \equiv 1 \pmod 4$，互换不变号。
    $\left(\frac{13}{563}\right) = \left(\frac{563}{13}\right) = \left(\frac{4}{13}\right) = 1$（$4$ 是平方数）。
4.  **计算 $\left(\frac{11}{563}\right)$**：
    $11 \equiv 3 \pmod 4$ 且 $563 \equiv 3 \pmod 4$，互换**变号**。
    $\left(\frac{11}{563}\right) = -\left(\frac{563}{11}\right) = -\left(\frac{2}{11}\right)$。
    $11 \equiv 3 \pmod 8$，故 $\left(\frac{2}{11}\right) = -1$。
    所以这一项结果为 $-(-1) = 1$。
5.  **汇总**：
    $\left(\frac{286}{563}\right) = (-1) \times 1 \times 1 = -1$。
    **结论**：$286$ 是模 $563$ 的平方非剩余。