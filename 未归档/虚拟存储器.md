## 1. 本质 (First Principles)
* **目的**：
    1.  **扩容**：让程序以为自己拥有无限大的内存（逻辑地址空间 > 物理内存）。
    2.  **隔离**：每个进程有独立的地址空间，互不干扰（安全基石）。
* **机制**：将逻辑地址（VA）映射到物理地址（PA）。映射表叫**页表 (Page Table)**。

## 2. 页表结构 (Page Table)
* **全相联**：虚拟页可以映射到物理内存的任意页框（Page Frame）。
* **页表项 (PTE)**：
    * **物理页号 (PFN)**：映射结果。
    * **有效位 (Valid)**：1=在内存，0=在磁盘（触发**缺页异常 Page Fault**）。
    * **脏位 (Dirty)**：页面被修改过，替换时需写回磁盘。
    * **访问权限 (Access)**：R/W/X。**NX (No-Execute) 位**是防御缓冲区溢出的关键。

## 3. 快表 (TLB) - *性能命门*
* **定义**：页表的 Cache。存放最近用到的 PTE。
* **流程**：CPU $\to$ TLB $\to$ (Miss) $\to$ 页表 $\to$ (Miss) $\to$ 磁盘。
* **上下文切换**：进程切换时，TLB 必须刷新（Flush），否则会访问到上一个进程的空间。这也是**Meltdown 漏洞**的利用点。

## 4. 关联链接
* [[Linux内核]]：`swap` 分区的作用。
* [[容器技术]]：Docker 如何利用 Namespace 隔离文件系统，本质上是虚拟存储的高级应用。